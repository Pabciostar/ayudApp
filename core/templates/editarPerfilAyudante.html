{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/perfilAyudante.css' %}"> {% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="mb-4 text-center">
        <h2 id="nombreAyudante" class="fw-bold" style="color: white"></h2>
    </div>
{% if messages %}
  {% for message in messages %}
    <div class="alert alert-success">{{ message }}</div>
  {% endfor %}
{% endif %}
    <div class="row">


        <!-- Datos del ayudante -->
        <div id="marcoInformación" class="row mt-5">
            <div id="contenedorInformacionAyudante">
                <div class="container form-container">
                    <h2 class="mb-4">Editar Perfil del Ayudante</h2>

                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <!-- Nombre -->
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre completo</label>
                            <input type="text" class="form-control" name="nombre" readonly>
                        </div>
                        <!-- Grado académico -->
                        <div class="mb-3">
                            <label for="grado" class="form-label">Grado académico</label>
                            <input type="text" class="form-control" name="grado" readonly>
                        </div>

                        <!-- Descripción -->
                        <div class="mb-3">
                            <label for="descripcion" class="form-label">Descripción</label>
                            <textarea class="form-control" name="descripcion"></textarea>
                        </div>

                        <!-- Valor por hora -->
                        <div class="mb-3">
                            <label for="valor" class="form-label">Valor por hora</label>
                            <input type="text" class="form-control" name="valor">
                        </div>

                        <!-- Disponibilidad -->
                        <div class="mb-3">
                            <label for="disponibilidad" class="form-label">Disponibilidad tentativa</label>
                            <input type="text" class="form-control" name="disponibilidad">
                        </div>

                        <!-- Cambiar foto de perfil -->
                        <div class="mb-3">
                            <label for="foto_perfil" class="form-label">Cambiar foto de perfil</label>
                            <input class="form-control" type="file" id="foto_perfil" name="foto_perfil"
                                accept="image/*">
                            {% if ayudante.foto %}
                            <img id="fotoPerfil" src="data:image/jpeg;base64,{{ ayudante.foto|b64encode }}"
                                class="img-fluid rounded-circle border border-3" style="width: 300px; height: 300px;"
                                alt="Foto de perfil">
                            {% endif %}
                        </div>


                        <!-- Botón guardar -->
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-success">Guardar cambios</button>
                        </div>
                    </form>

                    <!-- Botón atrás -->
                    <div class="mt-3 text-center">
                        <a href="{% url 'perfilAyudante_pagina' %}" class="btn btn-secondary">← Volver al perfil</a>
                    </div>
                </div>
            </div>
        </div>



    </div>
</div>

<script src="{% static 'js/editarPerfilAyudante.js' %}"></script>
{% endblock %}